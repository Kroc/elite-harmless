; Elite C64 disassembly / Elite : Harmless, cc-by-nc-sa 2018-2020,
; see LICENSE.txt. "Elite" is copyright / trademark David Braben & Ian Bell,
; All Rights Reserved. <github.com/Kroc/elite-harmless>
;===============================================================================
; moray
;-------------------------------------------------------------------------------
hull_index              .set hull_index + 1
HULL_MORAY              := hull_index                                   ;=$1C

; in the BBC version every kill was worth one point but in other ports the
; kill value is fractional and varies by object, where $0100 (256) = 1 point
HULL_MORAY_KILL         = 192   ;= 0.75

.segment        "HULL_TABLE"                                            ;$D000..
;===============================================================================
        .addr   hull_moray                                              ;$D036/7

.segment        "HULL_TYPE"                                             ;$D042..
;===============================================================================
        .byte   $0c                                                     ;$D05D

.segment        "HULL_KILL_LO"                                          ;$D063..
;===============================================================================
        .byte   < HULL_MORAY_KILL                                       ;$D07E

.segment        "HULL_KILL_HI"                                          ;$D084..
;===============================================================================
        .byte   > HULL_MORAY_KILL                                       ;$D09F

.segment        "HULL_DATA"                                             ;$D0A5..
;===============================================================================
.proc   hull_moray                                                      ;$E9C9
        ;-----------------------------------------------------------------------
        ; does not scoop as anything, drops up to 1 debris:
        .scoop_debris   0, 1                                            ;$E9C9
        
        .byte             $84, $03, $68, $b4, $49, $00                  ;$E9CA
        .byte   $1a, $54, $13, $32, $00, $24, $28, $64                  ;$E9D0
        .byte   $19, $00, $00, $02, $10, $0f, $00, $41
        .byte   $1f, $02, $78, $0f, $00, $41, $9f, $01                  ;$E9E0
        .byte   $67, $00, $12, $28, $31, $ff, $ff, $3c
        .byte   $00, $00, $9f, $13, $66, $3c, $00, $00                  ;$E9F0
        .byte   $1f, $25, $88, $1e, $1b, $0a, $78, $45
        .byte   $78, $1e, $1b, $0a, $f8, $34, $67, $09                  ;$EA00
        .byte   $04, $19, $e7, $44, $44, $09, $04, $19
        .byte   $67, $44, $44, $00, $12, $10, $67, $44                  ;$EA10
        .byte   $44, $0d, $03, $31, $05, $00, $00, $06
        .byte   $00, $41, $05, $00, $00, $0d, $03, $31                  ;$EA20
        .byte   $85, $00, $00, $06, $00, $41, $85, $00
        .byte   $00, $1f, $07, $00, $04, $1f, $16, $04                  ;$EA30
        .byte   $0c, $18, $36, $0c, $18, $18, $47, $14
        .byte   $18, $18, $58, $10, $14, $1f, $28, $00                  ;$EA40
        .byte   $10, $0f, $67, $04, $18, $0f, $78, $00
        .byte   $14, $0f, $02, $00, $08, $0f, $01, $04                  ;$EA50
        .byte   $08, $11, $13, $08, $0c, $11, $25, $08
        .byte   $10, $0d, $45, $08, $14, $0d, $34, $08                  ;$EA60
        .byte   $18, $05, $44, $1c, $20, $07, $44, $1c
        .byte   $24, $07, $44, $20, $24, $05, $00, $28                  ;$EA70
        .byte   $2c, $05, $00, $30, $34, $1f, $00, $2b
        .byte   $07, $9f, $0a, $31, $07, $1f, $0a, $31                  ;$EA80
        .byte   $07, $f8, $3b, $1c, $65, $78, $00, $34
        .byte   $4e, $78, $3b, $1c, $65, $df, $48, $63                  ;$EA90
        .byte   $32, $5f, $00, $53, $1e, $5f, $48, $63
        .byte   $32                                                     ;$EAA0

.endproc